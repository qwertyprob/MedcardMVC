@model List<OwnerModel>

@{
    ViewData["Title"] = "Card";
    Layout = "_Layout";



}

<form method="POST" action="@Url.Action("CreateMedcard", "Medcard")">
    <div id="popup" class="popup disable">
        <div class="popup__box">
            <input placeholder="ФИО" type="text" id="name" name="name">
            <input placeholder="Номер телефона" type="text" id="phonenumber" name="phone">
            <input placeholder="Кличка" type="text" id="nick" name="petName">
            <input placeholder="Номер чипа" type="text" id="chip" name="chipNumber">
            <input placeholder="Возраст" type="text" id="age" name="petAge">
            <input placeholder="Порода" type="text" id="breed" name="petBreed">

            <button class="list__more" type="submit">Отправить</button>
        </div>
    </div>
</form>

<header class="header">
    <div class="logo">
        <a href="@Url.Action("Index", "Medcard")">
            <img src="~/img/logo.png" alt="VetAsist">
        </a>
    </div>
    <button id="Add" type="button" class="btn-input">Добавить</button>
</header>

<div class="search">
    <div class="search__box search-border">
        <input placeholder="Поиск" class="search__field__input search-border" type="search" id="search" name="search">
        <button class="search__field__btn search-border" type="button">Найти</button>
    </div>
</div>

@if (Model != null && Model.Count > 0)
{
    <section class="list">
        <div class="list__wrapper shadow">
            <div class="list__line-title">
                <p class="number"> </p>
                <p class="name">ФИО</p>
                <p class="phone">Номер телефона</p>
                <p class="nick">Кличка</p>
                <p class="chip">Номер чипа</p>
                <p class="age">Возраст</p>
                <p class="breed">Порода</p>
                <p class="heal">Параметры</p>
            </div>

            <div class="list__container">
                @foreach (var item in Model)
                {
                    <div class="list__lines">
                        <p class="number"> </p>
                        <p class="name">@item.Name</p>
                        <p class="phone">@item.PhoneNumber</p>
                        @foreach (var pet in item.Pets)
                        {
                            <p class="nick">@pet.Name</p>
                            <p class="chip">@pet.ChipNumber</p>
                            <p class="age">@pet.Age</p>
                            <p class="breed">@pet.Breed</p>
                        }
                        
                        <div class="list__param">
                            
                            <a href="@Url.Action("More", "Medcard", new { ownerId = item.Id })" class="list__more">Подробнее</a>
                            
                            <a href="@Url.Action("UpdateMedcard", "Medcard", new { ownerId = item.Id })" class="list__more">Изменить</a>

                            
                            <form asp-action="DeleteMedcard" method="post" class="list__remove">
                                <input type="hidden" name="id" value="@item.Id" />
                                <button type="submit" style="background: none; border: none; color: white; ">
                                    Удалить
                                </button>
                            </form>

                        </div>
                    </div>
                }
            </div>
        </div>
    </section>
}
else
{
    <h1 style="text-align: center;">Медкард не найдено. Пожалуйста проверьте данные на наличие ошибок или начните ее вести!</h1>
}
